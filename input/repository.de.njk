---
layout: base.njk
permalink: repository.de.html
title: Repositorium – DAKODA Infrastruktur
---

<h2 class="repo-title">Repository</h2>
<p class="repo-description">
  Wählen Sie Korpora/Datasets zum Herunterladen aus. Einige Datensätze sind nur für authentifizierte Nutzer:innen von deutschen Hochschulen zugänglich.
</p>

<!-- Enhanced Filter Bar -->
<div class="filter-bar-enhanced">
  <div class="filter-group-enhanced">
    <div class="filter-item">
      <label for="accessFilter">Zugang:</label>
      <select id="accessFilter">
        <option value="all">Alle</option>
        <option value="open">Open</option>
        <option value="restricted">Restricted</option>
        <option value="closed">Closed</option>
        <option value="special restrictions">Special Restrictions</option>
      </select>
    </div>

    <div class="filter-item">
      <label for="l1Filter">L1 der Lernenden:</label>
      <select id="l1Filter">
        <option value="all">Alle</option>
        <option value="mono">Mono</option>
        <option value="multi">Multi</option>
      </select>
    </div>

    <div class="filter-item">
      <label for="modalityFilter">Modalität:</label>
      <select id="modalityFilter">
        <option value="all">Alle</option>
        <option value="written">Written</option>
        <option value="spoken">Spoken</option>
      </select>
    </div>

    <!-- GER (CEFR) – grouped under one label) -->
    <div class="filter-item ger">
      <label class="ger-label">GER:</label>
      <div class="ger-row">
        <div class="ger-field">
          <label for="gerMinFilter" class="sublabel">Min</label>
          <select id="gerMinFilter">
            <option value="all">Alle</option>
            <option value="A1">A1</option>
            <option value="A2">A2</option>
            <option value="B1">B1</option>
            <option value="B2">B2</option>
            <option value="C1">C1</option>
            <option value="C2">C2</option>
          </select>
        </div>
        <div class="ger-field">
          <label for="gerMaxFilter" class="sublabel">Max</label>
          <select id="gerMaxFilter">
            <option value="all">Alle</option>
            <option value="A1">A1</option>
            <option value="A2">A2</option>
            <option value="B1">B1</option>
            <option value="B2">B2</option>
            <option value="C1">C1</option>
            <option value="C2">C2</option>
          </select>
        </div>
      </div>
    </div>
    <!-- end GER -->
    <div class="filter-item">
      <button type="button" id="resetFiltersBtn" class="filter-reset-btn" aria-label="Reset Filter">Reset</button>
    </div>
  </div>
</div>



<!-- Legend -->
<div class="repo-legend">
  <span class="legend-title">Legende:</span>
  <span class="legend-item"><span class="legend-swatch open"></span> open</span>
  <span class="legend-item"><span class="legend-swatch restricted"></span> restricted</span>
  <span class="legend-item"><span class="legend-swatch closed"></span> closed</span>
  <span class="legend-item"><span class="legend-swatch special"></span> special restrictions</span>
</div>



{% set tableKeys = [
  "corpus_admin_name",
  "corpus_subcorpus_signet",
  "corpus_admin_availability",
  "corpus_design_l1Type",
  "corpus_proficiency_level",
  "speakers_texts",
  "task_interaction_mode"
] %}

<!-- Repository Table -->
<table class="repo-table" id="repoTable">
<thead>
  <tr>
    {% for key in tableKeys %}
      {% if key == "corpus_admin_name" %}
       
        <th rowspan="2" class="sortable" data-sort-key="title" title="{{ key }}">
          {{ display | truncate(35, true, '...') }}
          Korpustitel <span class="sort-icon">↕</span>
        </th>
        {# CHANGED: single Download column #}
        <th rowspan="2">Downloads</th>
        <th rowspan="2">Source</th>

      {% elif key == "corpus_subcorpus_signet" %}
        {# CHANGED: rename Siegel... -> ID #}
        <th rowspan="2" title="{{ key }}">ID</th>

      {% elif key == "corpus_admin_availability" %}
        {# CHANGED: force label to Zugang #}
        <th rowspan="2" class="sortable" data-sort-key="availability" title="{{ key }}">
          Zugang <span class="sort-icon">↕</span>
        </th>

      {% elif key == "corpus_design_l1Type" %}
        {# CHANGED: force label to L1 der Lernenden #}
        <th rowspan="2" class="sortable" data-sort-key="l1type" title="{{ key }}">
          L1 der Lernenden <span class="sort-icon">↕</span>
        </th>

      {% elif key == "corpus_proficiency_level" %}
        <th colspan="2">Kompetenzniveau</th>

{% elif key == "speakers_texts" %}
  <th rowspan="2">Sprecher / Texte</th>


      {% elif key == "task_interaction_mode" %}
        {% set display = displaynames[key] or key %}
        <th rowspan="2" class="sortable" data-sort-key="modality" title="{{ key }}">
          {{ display | truncate(35, true, '...') }}
          <span class="sort-icon">↕</span>
        </th>

      {% else %}
        {% set display = displaynames[key] or key %}
        <th rowspan="2" title="{{ key }}">
          {{ display | truncate(35, true, '...') }}
        </th>
      {% endif %}
    {% endfor %}
  </tr>

  <tr>
    {% for key in tableKeys %}
      {% if key == "corpus_admin_name" %}
        {# CHANGED: DKD + SRC headers #}
        <th>DKD</th>
        <th>SRC</th>
      {% elif key == "corpus_proficiency_level" %}
        <th class="sortable" data-sort-key="cefr-min">
          Min <span class="sort-icon">↕</span>
        </th>
        <th class="sortable" data-sort-key="cefr-max">
          Max <span class="sort-icon">↕</span>
        </th>
      {% endif %}
    {% endfor %}
  </tr>
</thead>


<tbody id="repo-body">
  {# keep all corpora; do not filter them out #}
  {% for corpus in collections.corporaPages %}
    {% if corpus.data.language == "de" %}
    <tr
  data-index="{{ loop.index0 }}"
  data-title="{{ corpus.data.corpus_admin_name | escape }}"
  data-acronym="{{ (corpus.data.corpus_admin_acronym or corpus.data.corpus_subcorpus_signet or corpus.fileSlug) | escape }}"
  data-availability="{{ corpus.data.corpus_admin_availability | lower | trim }}"
  data-l1type="{{ corpus.data.corpus_design_l1Type | lower | trim }}"
  data-modality="{{ corpus.data.task_interaction_mode | lower | trim }}"
  data-cefr-min="{{ corpus.data.corpus_proficiency_levelMin | upper | trim }}"
  data-cefr-max="{{ corpus.data.corpus_proficiency_levelMax | upper | trim }}"
    >
      {% for key in tableKeys %}
        {% if key == "corpus_admin_name" %}
          <td class="
            {% if corpus.data.corpus_admin_availability == 'open' %}access-open
            {% elif corpus.data.corpus_admin_availability == 'closed' %}access-closed
            {% elif corpus.data.corpus_admin_availability == 'restricted' %}access-restricted
            {% elif corpus.data.corpus_admin_availability == 'special restrictions' %}access-special
            {% endif %}">
            <a href="/repository/{{ corpus.fileSlug }}/index.de.html" title="{{ corpus.data.corpus_admin_name }}">
              {{ corpus.data.corpus_admin_acronym or corpus.data.corpus_admin_name | truncateTitle(35) }}
            </a>
          </td>

          {# CHANGED: Downloads (dropdown for compactness) #}
          <td>
            {% set downloads = corpus.data.downloads %}
            {% if downloads and downloads.length > 0 %}
              <div class="download-menu">
                <button class="download-btn" title="Available formats" aria-label="Download formats">
                  ⬇
                </button>
                <div class="download-dropdown">
                  {% for dl in downloads %}
                    <a href="{{ dl.url }}" title="Download {{ dl.format }}">
                      .{{ dl.format }}
                    </a>
                  {% endfor %}
                </div>
              </div>
            {% else %}
              <span>-</span>
            {% endif %}
          </td>

          {# CHANGED: Source (external links only) #}
          <td>
            {% set src = corpus.data.source %}
            {% if src %}
              <a href="{{ src }}" target="_blank" rel="noopener">Link</a>
            {% else %}
              <span>-</span>
            {% endif %}
          </td>



{% elif key == "speakers_texts" %}
  {# Prefer the pre-computed string from corpora.js; fall back to the two size fields #}
  {% set combined = corpus.data.speakers_texts %}
  {% set sp = corpus.data.corpus_subcorpus_sizeLearners %}
  {% set tx = corpus.data.corpus_subcorpus_sizeTexts %}
  <td>
    {% if combined %}
      {{ combined }}
    {% elseif sp or tx %}
      {{ sp or '0' }} / {{ tx or '0' }}
    {% else %}
      -
    {% endif %}
  </td>




        {% elif key == "corpus_proficiency_level" %}
          <td>{{ corpus.data.corpus_proficiency_levelMin }}</td>
          <td>{{ corpus.data.corpus_proficiency_levelMax }}</td>

        {% elif key == "ANNOTATION" %}
          <td><!-- Annotationen --></td>

        {% elif key == "corpus_admin_availability" %}
          <td>{{ corpus.data[key] }}</td>

        {% elif key == "corpus_design_l1Type" %}
          <td>{{ corpus.data[key] }}</td>

        {% elif key == "task_interaction_mode" %}
          <td>{{ corpus.data[key] }}</td>

        {% elif key == "corpus_subcorpus_signet" %}
          <td>{{ corpus.data[key] }}</td>

        {% else %}
          <td>{{ corpus.data[key] }}</td>
        {% endif %}
      {% endfor %}
    </tr>
    {% endif %}
  {% endfor %}
</tbody>
</table>
